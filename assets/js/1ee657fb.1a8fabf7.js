"use strict";(self.webpackChunkpeers_app_docs_hub=self.webpackChunkpeers_app_docs_hub||[]).push([[500],{4816:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"peers-electron/diagram","title":"diagram","description":"Message Flow","source":"@site/projects/peers-electron/diagram.md","sourceDirName":"peers-electron","slug":"/peers-electron/diagram","permalink":"/peers-electron/diagram","draft":false,"unlisted":false,"editUrl":"https://github.com/peers-app/peers-electron/edit/main/diagram.md","tags":[],"version":"current","frontMatter":{"custom_edit_url":"https://github.com/peers-app/peers-electron/edit/main/diagram.md"},"sidebar":"tutorialSidebar","previous":{"title":"CLAUDE","permalink":"/peers-electron/CLAUDE"},"next":{"title":"packages","permalink":"/peers-electron/packages"}}');var s=o(4848),l=o(8453);const t={custom_edit_url:"https://github.com/peers-app/peers-electron/edit/main/diagram.md"},a=void 0,i={},c=[{value:"Message Flow",id:"message-flow",level:3},{value:"Workflow Run Flow",id:"workflow-run-flow",level:3},{value:"Logging in Workflow Run Processor",id:"logging-in-workflow-run-processor",level:3},{value:"Logging in Tool Call",id:"logging-in-tool-call",level:3}];function u(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermai",children:"graph LR\n  A[Square] --\x3e B((Circle))\n  A --\x3e C(Round Rect)\n  B --\x3e D{Rhombus}\n  C --\x3e D\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n  \n  Message --\x3e Assistant --\x3e Tool --\x3e WorkflowRun --\x3e WorkflowLog\n\n  Event --\x3e WorkflowRun\n  \n"})}),"\n",(0,s.jsx)(n.h3,{id:"message-flow",children:"Message Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n  \n\n  Message --\x3e \n  Assistants --each--\x3e\n  Instruction --\x3e \n  AssistantRunnerTool --\x3e \n  LLM --\x3e\n  Tools --each--\x3e\n  Logs --\x3e\n  Result --\x3e\n  Message\n  \n"})}),"\n",(0,s.jsx)(n.h3,{id:"workflow-run-flow",children:"Workflow Run Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n\n  WorkflowRun --\x3e \n  Instructions --each--\x3e\n  Message \n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"logging-in-workflow-run-processor",children:"Logging in Workflow Run Processor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n\n  WorkflowRun --\x3e \n  NextInstruction --\x3e\n  IsToolCall{Is Tool Call?}\n\n  IsToolCall --\x3e |No| SelectAssistant --\x3e \n    LogAssistantSelected --\x3e\n    UnshiftAssistantRunnerToolCallInstruction --\x3e \n      NextInstruction\n\n  IsToolCall --\x3e |Yes| CallTool --\x3e \n  IsError{Is Error?}\n    IsError --\x3e |Yes| SetWorkflowRunErrorState\n    IsError --\x3e |No| PushToolCallResultToWorkflowRun --\x3e\n      NextInstruction  \n  \n  \n"})}),"\n",(0,s.jsx)(n.h3,{id:"logging-in-tool-call",children:"Logging in Tool Call"}),"\n",(0,s.jsx)(n.p,{children:"This is done automaticaly as part of the tool wrapper"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n\n  WrappedToolCall --\x3e\n  LogToolIdAndArgs --\x3e\n  ExecuteToolCall --\x3e\n  IsError{Result isError?}\n  IsError --\x3e |Yes| UpdateLogWithResultError\n  IsError --\x3e |No| UpdateLogWithResult --\x3e\n    IsObject{Is Object?}\n    IsObject --\x3e |Yes| PushToolCallResultObject\n    IsObject --\x3e |No| PushToolCallResultString\n\n  UpdateLogWithStringResult --\x3e\n  ReturnStringResult\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var r=o(6540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);